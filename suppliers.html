<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöö –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ü–æ—Å—Ç–∞–≤–æ–∫</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        .card-header-primary { background-color: #007bff; color: white; }
    </style>
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
    <div class="container">
        <a class="navbar-brand fw-bold" href="index.html">
            <i class="bi bi-house-door-fill me-2"></i>Hotel Supply Automation
        </a>
    </div>
</nav>

<div class="container mt-5">
    <header class="mb-5 d-flex justify-content-between align-items-center">
        <h1 class="display-6 fw-bold text-dark">ü§ù –ù–∞—à–∏ –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏</h1>
        
        <button type="button" class="btn btn-success shadow-sm" data-bs-toggle="modal" data-bs-target="#addSupplierModal">
            <i class="bi bi-plus-circle-fill me-2"></i>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ
        </button>
    </header>

    <div class="card shadow-lg mb-5">
        <div class="card-header card-header-primary fw-bold">
            <i class="bi bi-list-task me-2"></i> –ê–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
        </div>
        <div class="card-body">
            <table id="suppliersTable" class="table table-hover align-middle">
                <thead class="table-light">
                    <tr>
                        <th scope="col">–ò–º—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</th>
                        <th scope="col">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–ü—Ä–∏–º–µ—Ä)</th>
                        <th scope="col">–ö–æ–Ω—Ç–∞–∫—Ç—ã</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </div>
    </div>
</div>

<div class="modal fade" id="addSupplierModal" tabindex="-1" aria-labelledby="addSupplierModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title" id="addSupplierModalLabel">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="addSupplierForm">
                    <div class="mb-3">
                        <label for="supplierName" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏</label>
                        <input type="text" class="form-control" id="supplierName" required>
                    </div>
                    <div class="mb-3">
                        <label for="supplierSpecialty" class="form-label">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</label>
                        <input type="text" class="form-control" id="supplierSpecialty" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –û–≤–æ—â–∏, –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã">
                    </div>
                    <div class="mb-3">
                        <label for="supplierContact" class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω/Email</label>
                        <input type="text" class="form-control" id="supplierContact" placeholder="+7 (XXX) XXX-XX-XX">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" form="addSupplierForm" class="btn btn-success">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>
</div>


<script>
// --- –•–µ–ª–ø–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LocalStorage ---
const STORAGE_KEY_SUPPLIERS = "suppliers";

function getSuppliers() { 
    return JSON.parse(localStorage.getItem(STORAGE_KEY_SUPPLIERS) || "[]"); 
}

function setSuppliers(suppliers) {
    localStorage.setItem(STORAGE_KEY_SUPPLIERS, JSON.stringify(suppliers));
}

// --- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è ---
function addSupplier(name, specialty, contact) {
    let suppliers = getSuppliers();
    const newSupplier = { 
        name: name, 
        specialty: specialty || '–ù–µ —É–∫–∞–∑–∞–Ω–∞', 
        contact: contact || '–ù–µ —É–∫–∞–∑–∞–Ω' 
    };
    suppliers.push(newSupplier);
    setSuppliers(suppliers);
    renderSuppliersTable(); // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É
    // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç BS JS)
    const modalElement = document.getElementById('addSupplierModal');
    if (modalElement) {
        bootstrap.Modal.getInstance(modalElement)?.hide();
    }
}

// --- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¢–∞–±–ª–∏—Ü—ã ---
function renderSuppliersTable() {
    let tbody = document.querySelector("#suppliersTable tbody");
    tbody.innerHTML = "";
    
    // –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ LocalStorage –ø—É—Å—Ç
    if (getSuppliers().length === 0) {
        setSuppliers([
            { name: "–ú–æ–ª–æ—á–Ω—ã–π –î–æ–º", specialty: "–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –°—ã—Ä—ã", contact: "+7 (495) 123-45-67" },
            { name: "–ú—è—Å–Ω–∞—è –õ–∞–≤–∫–∞ ‚Ññ1", specialty: "–ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞", contact: "sales@meat.ru" },
            { name: "–û–≤–æ—â–Ω–æ–π –ú–∏—Ä", specialty: "–°–≤–µ–∂–∏–µ –æ–≤–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç—ã", contact: "+7 (916) 000-11-22" }
        ]);
    }
    
    getSuppliers().forEach(s => {
        let tr = document.createElement("tr");
        tr.innerHTML = `
            <td><i class="bi bi-building me-2 text-primary"></i>${s.name}</td>
            <td>${s.specialty}</td>
            <td><i class="bi bi-telephone me-1 text-success"></i>${s.contact}</td>
        `;
        tbody.appendChild(tr);
    });
}

// --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã ---
document.addEventListener("DOMContentLoaded", function(){
    renderSuppliersTable();
    
    const form = document.getElementById('addSupplierForm');
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        const name = document.getElementById('supplierName').value.trim();
        const specialty = document.getElementById('supplierSpecialty').value.trim();
        const contact = document.getElementById('supplierContact').value.trim();
        
        if (name) {
            addSupplier(name, specialty, contact);
            form.reset(); // –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
        }
    });
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>